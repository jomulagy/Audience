{% load static %}
<!--ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ & ê²Œì‹œê¸€ í™•ì¸ í˜ì´ì§€-->
<!DOCTYPE html>
<html lang="ko">

<head>
    <!--<link rel="stylesheet" href=".static/css/postCheck.css" />-->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="{% static 'css/post/postView.css' %}" />
    </script>
    <title>ê²Œì‹œê¸€ í™•ì¸ í˜ì´ì§€</title>
</head>

<body>
    {% include 'header2.html' %}
    <div class="backg">
        <div id="header">
            <div id="title-wrap">
                <h3 class="nickname">{{post.userable.name}}</h3>
                <h2 class="title">{{post.title}}</h2>
            </div>
            <div id="inform-wrap">
                {% if post.userable == request.user %}
                <a href="{% url 'employ:update_employ_post' post.id %}" class="modify">ìˆ˜ì •í•˜ê¸°</a>
                <a href="{% url 'employ:delete_employ_post' post.id %}" class="delete">ì‚­ì œí•˜ê¸°</a>
                {% else %}

                <p class="reportText">ì‹ ê³ í•˜ê¸°</p>
                {% endif %}
                <div class="reportMenu2" style="display: none;">
                    <select id="reportReason2">
                        <option value="">ì‚¬ìœ ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="ì‚¬ì¹­/ì‚¬ê¸°">ì‚¬ì¹­/ì‚¬ê¸°</option>
                        <option value="ìš•ì„¤/ë¹„í•˜">ìš•ì„¤/ë¹„í•˜</option>
                        <option value="ìƒì—…ì  ê´‘ê³  ë° íŒë§¤">ìƒì—…ì  ê´‘ê³  ë° íŒë§¤</option>
                        <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                    </select>
                    <button id="report-submit2">ì‹ ê³ </button>
                </div>
                <h2 class="views">ì¡°íšŒìˆ˜ {{post.views}}íšŒ</h2>
            </div>
        </div>
        <div class="rectangleBar"></div>

        <h2 class="contentText">ê²Œì‹œë¬¼ë‚´ìš©</h2>
        <div class="contentBoxUp"></div>
        <div class="contentBox">
            <img id="contentImg" src="{{post.image.url}}">
            <div id="text-wrap">{{post.content}}</div>
        </div>

        <div class="contentBoxDown"></div>

        <div id="button-wrap">
            <button class="goodButton" type="button" value="Button" onclick="toggleLike()">
                <h2 class="goodText">{{post.like_set.count}}ğŸ‘<br>ì¢‹ì•„ìš”</h2>
            </button>

            <button class="badButton" type="button" value="Button" onclick="toggleDislike()">
                <h2 class="badText">{{post.dislike_set.count}}ğŸ‘<br>ì‹«ì–´ìš”</h2>
            </button>
        </div>


        <h2 class="commentText">ëŒ“ê¸€</h2>
        <div class="commentBoxUp"></div>
        <div class="commentBox">

            <div id="comment-list">
                {% for comment in post.comment_set.all %}
                <div id="{{comment.id}}" class="comment">
                    <p>[{{comment.userable.name}}]</p>
                    <p class="comment_content">{{comment.content}}</p>
                    <div class="comment-options">
                        <button class="recomment" onclick="createReplyForm(this)">ëŒ€ëŒ“ê¸€ ë‹¬ê¸°</button>
                        <!--<button onclick = "location.href = '{% url 'job:update_job_post' post.id %}'">ìˆ˜ì •í•˜ê¸°</button>-->
                        <button class="comment_update" onclick="updateComment(this)">ìˆ˜ì •í•˜ê¸°</button>
                        <delete-button>ì‚­ì œí•˜ê¸°</delete-button>
                    </div>
                    {% for reply in comment.reply_set.all %}
                    <div id="{{reply.id}}" class="reply">
                        <p>â”” RE: [{{reply.userable.name}}]</p>
                        <p class="reply_content">{{reply.content}}</p>
                        <div class="comment-options">
                            <button class="reply_update" onclick="updateReply(this)">ìˆ˜ì •í•˜ê¸°</button>
                            <delete-button onclick="deleteReply(this)"> ì‚­ì œí•˜ê¸°</delete-button>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% endfor %}
            </div>
            <div class="comment-input-container">
                <textarea id="comment-input" placeholder="ëŒ“ê¸€ì„ ì‘ì„±í•˜ì„¸ìš”"></textarea>
                <button id="comment-submit">SEND</button>
            </div>
        </div>



        <div class="commentBoxDown"></div>

    </div>



    <script src="{% static 'js\post\postView.js' %}"></script>
    <script type="text/javascript">var post_id = "{{post.id}}"</script>
</body>

</html>

<!--ì¢‹ì•„ìš”/ì‹«ì–´ìš” ë²„íŠ¼ í´ë¦­ ê¸°ëŠ¥ êµ¬í˜„ -->